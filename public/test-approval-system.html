<!DOCTYPE html>
<html>
<head>
    <title>Test Approval System</title>
    <meta name="csrf-token" content="test-csrf-token">
</head>
<body>
    <h1>Test Approval System</h1>
    
    <h2>Test 1: Direct Form Submission</h2>
    <form method="POST" action="http://127.0.0.1:8000/admin/extracurriculars/registration/1/approve" onsubmit="return confirm('Test approval?')">
        <input type="hidden" name="_token" value="test-csrf-token">
        <button type="submit" style="background: green; color: white; padding: 10px;">
            ✓ Test Approve Registration 1
        </button>
    </form>
    
    <form method="POST" action="http://127.0.0.1:8000/admin/extracurriculars/registration/1/reject" onsubmit="return confirm('Test rejection?')">
        <input type="hidden" name="_token" value="test-csrf-token">
        <input type="hidden" name="notes" value="Test rejection notes">
        <button type="submit" style="background: red; color: white; padding: 10px;">
            ✗ Test Reject Registration 1
        </button>
    </form>
    
    <h2>Test 2: JavaScript Form Creation</h2>
    <button onclick="testApproval()" style="background: blue; color: white; padding: 10px;">
        Test JavaScript Approval
    </button>
    
    <div id="output" style="margin-top: 20px; padding: 10px; background: #f0f0f0;"></div>
    
    <script>
    function testApproval() {
        console.log("Testing approval function...");
        
        // Create form
        const form = document.createElement("form");
        form.method = "POST";
        form.action = "http://127.0.0.1:8000/admin/extracurriculars/registration/1/approve";
        
        // Add CSRF token
        const csrfInput = document.createElement("input");
        csrfInput.type = "hidden";
        csrfInput.name = "_token";
        csrfInput.value = "test-csrf-token";
        form.appendChild(csrfInput);
        
        // Log the action
        console.log("Form action:", form.action);
        document.getElementById("output").innerHTML = "Form would submit to: " + form.action;
        
        // Dont actually submit for testing
        // document.body.appendChild(form);
        // form.submit();
    }
    </script>
    
    <h2>Instructions</h2>
    <ol>
        <li>Make sure you are logged in as admin</li>
        <li>Replace "test-csrf-token" with real CSRF token from your page</li>
        <li>Replace registration ID "1" with actual registration ID</li>
        <li>Test the buttons above</li>
    </ol>
    
    <h2>URLs to check:</h2>
    <ul>
        <li><a href="http://127.0.0.1:8000/admin/extracurriculars/all-registrations">All Registrations</a></li>
        <li><a href="http://127.0.0.1:8000/admin/dashboard">Admin Dashboard</a></li>
        <li><a href="http://127.0.0.1:8000/login">Login</a></li>
    </ul>
</body>
</html>