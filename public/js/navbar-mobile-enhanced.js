// Enhanced Mobile Navbar Handler\n(function() {\n    'use strict';\n    \n    console.log('📱 Enhanced Mobile Navbar Handler Loading...');\n    \n    function initMobileNavbar() {\n        const navbarToggler = document.querySelector('.navbar-toggler');\n        const navbarCollapse = document.querySelector('.navbar-collapse');\n        const navbarTogglerIcon = document.querySelector('.navbar-toggler-icon');\n        const navbarTogglerX = document.querySelector('.navbar-toggler .fa-times');\n        \n        if (!navbarToggler || !navbarCollapse) {\n            console.log('❌ Navbar elements not found');\n            return;\n        }\n        \n        console.log('✅ Navbar elements found, initializing...');\n        \n        // Enhanced toggle functionality\n        function toggleNavbar() {\n            const isExpanded = navbarToggler.getAttribute('aria-expanded') === 'true';\n            const newState = !isExpanded;\n            \n            console.log('📱 Toggling navbar:', newState ? 'open' : 'close');\n            \n            // Update aria-expanded\n            navbarToggler.setAttribute('aria-expanded', newState);\n            \n            // Toggle Bootstrap classes\n            if (newState) {\n                navbarCollapse.classList.add('show');\n                navbarToggler.classList.remove('collapsed');\n            } else {\n                navbarCollapse.classList.remove('show');\n                navbarToggler.classList.add('collapsed');\n            }\n            \n            // Update icon visibility\n            if (navbarTogglerIcon) {\n                navbarTogglerIcon.style.display = newState ? 'none' : 'block';\n            }\n            if (navbarTogglerX) {\n                navbarTogglerX.style.display = newState ? 'block' : 'none';\n            }\n        }\n        \n        // Click handler\n        navbarToggler.addEventListener('click', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            toggleNavbar();\n        });\n        \n        // Touch handler for better mobile support\n        navbarToggler.addEventListener('touchstart', function(e) {\n            e.preventDefault();\n            // Add visual feedback\n            this.style.backgroundColor = 'rgba(255, 255, 255, 0.3)';\n        }, { passive: false });\n        \n        navbarToggler.addEventListener('touchend', function(e) {\n            e.preventDefault();\n            // Remove visual feedback\n            setTimeout(() => {\n                this.style.backgroundColor = '';\n            }, 150);\n            // Trigger toggle\n            toggleNavbar();\n        }, { passive: false });\n        \n        // Close navbar when clicking outside\n        document.addEventListener('click', function(e) {\n            if (window.innerWidth < 992) {\n                const isNavbarClick = e.target.closest('.navbar');\n                if (!isNavbarClick && navbarCollapse.classList.contains('show')) {\n                    console.log('📱 Closing navbar - clicked outside');\n                    navbarToggler.setAttribute('aria-expanded', 'false');\n                    navbarCollapse.classList.remove('show');\n                    navbarToggler.classList.add('collapsed');\n                    \n                    if (navbarTogglerIcon) {\n                        navbarTogglerIcon.style.display = 'block';\n                    }\n                    if (navbarTogglerX) {\n                        navbarTogglerX.style.display = 'none';\n                    }\n                }\n            }\n        });\n        \n        // Close navbar when clicking on nav links (except dropdowns)\n        const navLinks = document.querySelectorAll('.navbar-nav .nav-link:not(.dropdown-toggle)');\n        navLinks.forEach(link => {\n            link.addEventListener('click', function() {\n                if (window.innerWidth < 992 && navbarCollapse.classList.contains('show')) {\n                    console.log('📱 Closing navbar - nav link clicked');\n                    setTimeout(() => {\n                        navbarToggler.setAttribute('aria-expanded', 'false');\n                        navbarCollapse.classList.remove('show');\n                        navbarToggler.classList.add('collapsed');\n                        \n                        if (navbarTogglerIcon) {\n                            navbarTogglerIcon.style.display = 'block';\n                        }\n                        if (navbarTogglerX) {\n                            navbarTogglerX.style.display = 'none';\n                        }\n                    }, 100);\n                }\n            });\n        });\n        \n        // Handle window resize\n        window.addEventListener('resize', function() {\n            if (window.innerWidth >= 992) {\n                // Reset navbar state on desktop\n                navbarToggler.setAttribute('aria-expanded', 'false');\n                navbarCollapse.classList.remove('show');\n                navbarToggler.classList.add('collapsed');\n                \n                if (navbarTogglerIcon) {\n                    navbarTogglerIcon.style.display = 'block';\n                }\n                if (navbarTogglerX) {\n                    navbarTogglerX.style.display = 'none';\n                }\n            }\n        });\n        \n        // Keyboard support\n        navbarToggler.addEventListener('keydown', function(e) {\n            if (e.key === 'Enter' || e.key === ' ') {\n                e.preventDefault();\n                toggleNavbar();\n            }\n        });\n        \n        // ESC key to close navbar\n        document.addEventListener('keydown', function(e) {\n            if (e.key === 'Escape' && navbarCollapse.classList.contains('show')) {\n                console.log('📱 Closing navbar - ESC key');\n                navbarToggler.setAttribute('aria-expanded', 'false');\n                navbarCollapse.classList.remove('show');\n                navbarToggler.classList.add('collapsed');\n                \n                if (navbarTogglerIcon) {\n                    navbarTogglerIcon.style.display = 'block';\n                }\n                if (navbarTogglerX) {\n                    navbarTogglerX.style.display = 'none';\n                }\n            }\n        });\n        \n        console.log('✅ Enhanced mobile navbar initialized');\n    }\n    \n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', initMobileNavbar);\n    } else {\n        initMobileNavbar();\n    }\n    \n    // Expose function globally\n    window.initMobileNavbar = initMobileNavbar;\n    \n    console.log('📱 Enhanced Mobile Navbar Handler Ready');\n    \n})();"